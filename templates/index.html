<!-- templates/index.html -->
{% extends 'layout.html' %}

{% block title %}Student Registration Form{% endblock %}

{% block content %}
    <h1>Student Registration Form</h1>
    <form action="/update_excel" method="post" enctype="multipart/form-data">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br>

        <label for="photo">Photo:</label>
        <input type="file" id="photo" name="photo" accept="image/*" required><br>

        <label for="address">Address:</label>
        <input type="text" id="address" name="address" required><br>

        <label for="city">City:</label>
        <input type="text" id="city" name="city" required><br>

        <label for="course1">Are you studying any course?</label>
        <input type="radio" id="courseYes" name="course1" value="yes" onclick="toggleCourseDetails(true)">
        <label for="courseYes">Yes</label>
        <input type="radio" id="courseNo" name="course1" value="no" onclick="toggleCourseDetails(false)" checked>
        <label for="courseNo">No</label><br>

        <div id="courseDetails" style="display: none;">
            <label for="courseName">Course Name:</label>
            <input type="text" id="courseName" name="courseName"><br>
        </div>

        <label for="moNo1">Mobile No 1:</label>
        <input type="tel" id="moNo1" name="moNo1" required><br>

        <label for="moNo2">Mobile No 2:</label>
        <input type="tel" id="moNo2" name="moNo2"><br>

        <label for="dob">Date of Birth:</label>
        <input type="date" id="dob" name="dob" required><br>

        <label for="standard">Standard Studying:</label>
        <input type="text" id="standard" name="standard" required><br>

        <label for="course">Course:</label>
            <select id="course" name="course">
                <option value="Mathematics">Mathematics</option>
                <option value="Science">Science</option>
                <option value="History">History</option>
                <!-- Add more options as needed -->
            </select><br>

        <label for="startDate">Starting Date:</label>
        <input type="date" id="startDate" name="startDate" required><br>

        <label for="batch">Batch:</label>
        <select id="batch" name="batch">
            <option value="B1">B1</option>
            <option value="B2">B2</option>
            <option value="B3">B3</option>
            <!-- Add more options as needed -->
        </select><br>

        <label for="fees">Fees:</label>
        <input type="number" id="fees" name="fees" required><br>

        <label for="discount">Discount:</label>
        <input type="number" id="discount" name="discount"><br>

        <label for="finalFees">Final Fees:</label>
        <input type="number" id="finalFees" name="finalFees" readonly><br>

        <button type="submit">Submit</button>
    </form>

    <script>
        function toggleCourseDetails(show) {
            const courseDetails = document.getElementById('courseDetails');
            courseDetails.style.display = show ? 'block' : 'none';
        }

        document.getElementById('fees').addEventListener('input', function() {
            const fees = parseFloat(document.getElementById('fees').value) || 0;
            const discount = parseFloat(document.getElementById('discount').value) || 0;
            const finalFees = fees - discount;
            document.getElementById('finalFees').value = finalFees;
        });

        document.getElementById('discount').addEventListener('input', function() {
            const fees = parseFloat(document.getElementById('fees').value) || 0;
            const discount = parseFloat(document.getElementById('discount').value) || 0;
            const finalFees = fees - discount;
            document.getElementById('finalFees').value = finalFees;
        });
    </script>
{% endblock %}
